<!DOCTYPE html>
<html>
<font face = "helvetica,arial">

<!-- CSS Includes -->
<head>
<link rel="stylesheet" type="text/css" href="twitch-visualizer.css">
<title>Twitch Spam Visualizer</title>
</head>

<!-- amChart Resources -->
<script type = "text/javascript" src="core.js"></script>
<script type = "text/javascript" src="charts.js"></script>

<!-- Project Script -->
<script type = "text/javascript" src="twitch-visualizer.js"></script>


<!-- Webpage Code -->
<body>

<div class="topnav">
	<a class="title"><b><font color=white>Twitch Spam Visualizer</font></b></a>
	<a href="#settings">Settings</a>
	<a href="#about">About</a>
</div>

<br>

<div class='box' id="chartdiv"></div>

<!-- **************************** -->
<!-- * Embedded Twitch Chat Box * -->
<!-- **************************** -->
<div class='box'>
	<iframe style="width: 100%; height: 90%;" frameborder="0" scrolling="yes" id="twitch_chat" src="https://www.twitch.tv/embed/overwatchleague/chat"> </iframe>
</div>

<!-- ********************** -->
<!-- * Emote Chart Script * -->
<!-- ********************** -->
<script type = "text/javascript" src="emote-chart.js"></script>


<!-- ********************
     * About Menu Popup *
     ******************** -->
<div id="about" class="overlay">
	<div class="popup">
		<h2>About</h2>
		<a class="close" href="#">&times;</a>
		<div class="content">
			<p><b>Modes available:</b></p>
			<p>Point Decay - Each emote received adds one point to that emote's score. The score decays overtime, with higher values decaying faster.</p>
			<p>Sliding Window - Sums up all emotes received in the last 20 seconds. Higher memory requirement. Window length is modifiable in the settings menu.</p>
			<p>Each mode only shows the top five emotes received.</p>
		</div>
	</div>
</div>

<!-- ***********************
     * Settings Menu Popup *
     *********************** -->
<div id="settings" class="overlay">
	<div class="popup">
		<h2>Settings</h2>
		<a class="close" href="#">&times;</a>
		<div class="content">
			<p><u>Display Settings</u></p>
				<form method="GET" action="index.html">
					<table>
						<tr>
							<td>
								<label for="channel">Channel: </label>
							</td> <td>
								<input type="text" id="channel_form" name="channel" value="overwatchleague" />
							</td> <td>
						<tr>
							<td>
								<label for="mode">Mode: </label>
							</td> <td>
							<select id="mode_dropdown" name="mode">
									<option value="decay">Point Decay</option>
									<option value="window">Sliding Window</option>
								</select>
							</td> <td rowspan="2">
								<input style="margin:5px;" type="submit" value="Update"/>
							</td>
						</tr>
					</table>
				</form>

			<p><u>Collection Settings</u></p>
			<table>		
				<tr>
					<td>
						<label for="refresh_rate">Refresh Rate (ms): </label>
					</td> <td>
						<input type="text" id="refresh_rate" value="1000">
					</td>
				</tr>
								<tr>
					<td>
						<label id="window_label" for="window_range">Window Length (ms): </label>
					</td> <td>
						<input type="text" id="window_range" value="20000">
					</td> <td rowspan="2">
						<button onclick="changeRefreshInterval()">Update</button>
					</td>
				</tr>
			</table>
		</div>
	</div>
</div>


</body>

</html>